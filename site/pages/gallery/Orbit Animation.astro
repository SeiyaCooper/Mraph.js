---
import Example from "../../layouts/Example.astro";
---

<Example title="Orbit Animation">
    <script>
        import * as mp from "../../../src/mraph.js";

        const layer = new mp.Layer().appendTo(document.body);

        const sun = new mp.Point3D(0, 0);
        layer.add(sun);
        sun.radius = 1;
        sun.setColor(mp.COLORS.YELLOW_D);

        const earth = new mp.Point3D(2.5, 0);
        sun.add(earth);
        earth.radius = 0.3;
        earth.update();
        earth.setColor(mp.COLORS.BLUE_E);

        const moon = new mp.Point3D(0.7, 0);
        earth.add(moon);
        moon.radius = 0.15;
        moon.setColor(mp.COLORS.GRAY);
        moon.update();

        layer.timeline.addInfinity(() => {
            sun.rotation.y += 0.02;
            earth.rotation.y += 0.03;
            earth.rotation.z += 0.01;
            sun.updateMatrix();
        });

        layer.enableOrbitControl();
        layer.play();
    </script>
</Example>
